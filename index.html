<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rowan Portfolio - Home</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300;400;500;700&family=Fraunces:opsz,wght@9..144,300;400;600;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* --- 變數設定 --- */
        :root {
            --bg-color: #D9D1C7;
            --accent-1: #D9AE89;
            --accent-2: #037F8C;
            --card-bg-default: #FEFAE0;
            --text-main: #3E3E3E;
            --text-light: #5A5A5A;
            --white-soft: #F4F1EA;
            
            --font-heading: 'Fraunces', 'Bogart', serif; 
            --font-en: 'DM Sans', sans-serif;
            --font-cn: 'Noto Sans TC', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            
            --nav-height: 80px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        html { scroll-behavior: smooth; }

        body {
            background-color: var(--bg-color);
            font-family: var(--font-en);
            color: var(--text-main);
            overflow-x: hidden;
            width: 100%;
        }

        /* --- 共用樣式 --- */
        h1, h2, h3, h4 { font-family: var(--font-heading); color: var(--accent-2); font-weight: 300; line-height: 1.1; }
        p { font-family: var(--font-en); font-size: 1rem; line-height: 1.6; color: var(--text-main); }
        .cn-text { font-family: var(--font-cn); letter-spacing: 0.05em; }
        .subtitle {
            font-family: var(--font-en); text-transform: uppercase; letter-spacing: 0.15em;
            font-size: 0.75rem; color: var(--accent-2); font-weight: 700; margin-bottom: 10px; display: block;
        }
        
        .reveal-on-scroll {
            opacity: 0; transform: translateY(30px); transition: all 0.8s ease-out;
        }
        .reveal-on-scroll.is-visible { opacity: 1; transform: translateY(0); }

        /* --- 導覽列 Navbar --- */
        .navbar {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--nav-height);
            background-color: rgba(217, 209, 199, 0.95); backdrop-filter: blur(5px);
            z-index: 1000; display: flex; justify-content: space-between; align-items: center;
            padding: 0 5%; border-bottom: 1px solid rgba(62,62,62,0.1);
        }
        .breadcrumb {
            font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-light);
            display: flex; align-items: center; gap: 10px;
        }
        .breadcrumb span.current { color: var(--accent-2); font-weight: 700; }

        .menu-container { position: relative; }
        .menu-btn {
            cursor: pointer; font-family: var(--font-en); font-weight: 700; font-size: 0.9rem;
            text-transform: uppercase; display: flex; align-items: center; gap: 10px;
            transition: color 0.3s; z-index: 1002; position: relative;
        }
        .menu-btn:hover { color: var(--accent-2); }
        .menu-icon {
            width: 24px; height: 14px; display: flex; flex-direction: column; justify-content: space-between;
        }
        .menu-line { width: 100%; height: 2px; background-color: currentColor; transition: all 0.3s; }

        .menu-container.active .menu-line:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .menu-container.active .menu-line:nth-child(2) { opacity: 0; }
        .menu-container.active .menu-line:nth-child(3) { transform: rotate(-45deg) translate(4px, -4px); }

        .dropdown-menu {
            position: absolute; top: calc(var(--nav-height) - 20px); right: -20px; width: 320px;
            background-color: var(--bg-color); border: 1px solid rgba(62,62,62,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); padding: 20px 0;
            display: flex; flex-direction: column; opacity: 0; visibility: hidden;
            transform: translateY(-20px); transition: all 0.4s ease; pointer-events: none;
            max-height: 80vh; overflow-y: auto;
        }
        .menu-container.active .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); pointer-events: auto; }
        .dropdown-item {
            padding: 15px 30px; text-decoration: none; display: flex; align-items: center; gap: 15px;
            border-bottom: 1px solid rgba(0,0,0,0.05); transition: background 0.3s;
        }
        .dropdown-item:last-child { border-bottom: none; }
        .dropdown-item:hover { background-color: rgba(255,255,255,0.3); }
        .dd-num { font-family: var(--font-mono); font-size: 0.8rem; color: var(--accent-2); font-weight: 700; }
        .dd-text-en { font-family: var(--font-heading); font-size: 1.1rem; color: var(--text-main); }
        .dd-text-cn { font-family: var(--font-cn); font-size: 0.8rem; color: var(--text-light); margin-left: auto; }

        /* --- Section 1: Hero Cover --- */
        .section-hero {
            height: 100vh; min-height: 600px; width: 100%; padding: var(--nav-height) 10% 50px 10%;
            display: grid; grid-template-columns: 1fr 1fr; align-items: end; position: relative; overflow: hidden;
        }
        .hero-title { font-size: clamp(3rem, 8vw, 6rem); margin-bottom: 20px; position: relative; z-index: 2; }
        .hero-info {
            border-top: 2px solid var(--accent-2); padding-top: 20px; display: flex; gap: 40px;
            position: relative; z-index: 2;
        }
        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 0.6; }
        }
        .hero-circle {
            position: absolute; top: -10vh; right: -10vh; width: 60vh; height: 60vh;
            background: var(--accent-1); border-radius: 50%; z-index: 1;
            animation: breathe 6s infinite ease-in-out; transition: all 0.5s ease;
        }
        .section-hero:hover .hero-circle { filter: brightness(1.1); }

        /* --- Section: Image Carousel --- */
        .section-carousel {
            width: 100%;
            height: 30vh;
            position: relative;
            overflow: hidden;
            background-color: rgba(0,0,0,0.05);
            margin-top: 0;
            user-select: none;
        }
        
        .carousel-track { width: 100%; height: 100%; position: relative; }

        .carousel-slide {
            position: absolute; top: 0; width: 60%; height: 100%;
            background-size: contain; background-repeat: no-repeat; background-position: center;
            background-color: transparent; 
            left: 50%; transform: translateX(-50%) scale(0.7); opacity: 0; z-index: -1;
            visibility: hidden; transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1); cursor: pointer;
        }

        .carousel-slide.active { left: 50%; transform: translateX(-50%) scale(1); opacity: 1; z-index: 10; visibility: visible; box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
        .carousel-slide.prev { left: 15%; transform: translateX(-50%) scale(0.85); opacity: 0.6; z-index: 5; visibility: visible; filter: grayscale(80%); }
        .carousel-slide.next { left: 85%; transform: translateX(-50%) scale(0.85); opacity: 0.6; z-index: 5; visibility: visible; filter: grayscale(80%); }

        .carousel-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background-color: rgba(255,255,255,0.8); border: none; width: 40px; height: 40px;
            border-radius: 50%; cursor: pointer; z-index: 20; display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; color: var(--text-main); transition: all 0.3s;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .carousel-btn:hover { background-color: var(--accent-2); color: #fff; }
        .carousel-prev { left: 20px; }
        .carousel-next { right: 20px; }

        .carousel-indicators {
            position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 10px; z-index: 20;
        }
        .indicator { width: 8px; height: 8px; border-radius: 50%; background-color: rgba(0,0,0,0.3); cursor: pointer; transition: all 0.3s; }
        .indicator.active { background-color: var(--accent-2); transform: scale(1.4); }

        /* Lightbox */
        .lightbox-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.95); z-index: 2000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: all 0.3s ease;
        }
        .lightbox-modal.active { opacity: 1; visibility: visible; }
        .lightbox-content { max-width: 90%; max-height: 90%; object-fit: contain; box-shadow: 0 0 50px rgba(0,0,0,0.5); }
        .lightbox-close {
            position: absolute; top: 30px; right: 30px;
            color: #fff; font-size: 2rem; cursor: pointer;
            width: 50px; height: 50px; text-align: center; line-height: 50px;
        }

        /* --- Section: Profile --- */
        .section-profile { padding: 100px 10%; display: grid; grid-template-columns: 35% 60%; gap: 5%; background-color: var(--bg-color); }
        .profile-side {
            background-color: var(--accent-2); color: #fff; padding: 40px; border-radius: 4px;
            display: flex; flex-direction: column; justify-content: space-between; min-height: 500px; position: sticky; top: 100px;
        }
        .profile-side h2 { color: var(--accent-1); font-size: 2.5rem; margin-bottom: 30px; }
        .profile-side p { color: rgba(255,255,255,0.9); }
        .profile-side .subtitle { color: var(--accent-1); }
        .profile-main { padding: 20px 0; display: flex; flex-direction: column; gap: 50px; }
        .exp-item { margin-bottom: 30px; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 20px; }
        .exp-item:last-child { border-bottom: none; }
        .exp-year { font-size: 0.9rem; color: var(--accent-2); font-weight: 700; margin-bottom: 5px; }
        .exp-title { font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; }
        .skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; }

        /* --- Buttons System --- */
        .btn-container { 
            display: flex; flex-direction: column; align-items: center; gap: 20px; margin: 80px 0 50px 0; 
        }
        .btn-primary {
            display: inline-block; padding: 15px 40px; min-width: 250px; text-align: center;
            background-color: var(--text-main); color: #fff;
            font-family: var(--font-en); font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em;
            text-decoration: none; border-radius: 50px; transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); border: 2px solid var(--text-main);
        }
        .btn-primary.btn-next {
            background-color: var(--accent-2); border-color: var(--accent-2);
        }
        .btn-primary.btn-next:hover { background-color: #026670; border-color: #026670; transform: translateY(-3px); }

        /* [修復] Back to Top Container 置中 */
        .btn-back-top-container { width: 100%; display: flex; justify-content: center; padding-bottom: 50px; }

        .btn-back-top {
            background: transparent; border: 1px solid var(--text-main); color: var(--text-main);
            padding: 10px 30px; border-radius: 30px; font-family: var(--font-en); font-size: 0.9rem; font-weight: 700;
            cursor: pointer; transition: all 0.3s; text-transform: uppercase; letter-spacing: 0.1em;
        }
        .btn-back-top:hover { background: var(--accent-2); color: #fff; border-color: var(--accent-2); transform: translateY(-3px); }

        /* --- Section: Navigation Hub --- */
        .section-nav-hub { padding: 100px 10%; background-color: var(--bg-color); display: flex; flex-direction: column; align-items: center; border-top: 1px solid rgba(0,0,0,0.1); }
        .hub-header { text-align: center; margin-bottom: 60px; }
        .hub-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; width: 100%; max-width: 1400px; }

        .nav-card {
            background-color: var(--card-bg-default); border: 1px solid rgba(0,0,0,0.1); padding: 40px 30px;
            display: flex; flex-direction: column; justify-content: space-between; min-height: 250px;
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1); cursor: pointer; position: relative; overflow: hidden; text-decoration: none;
        }
        .nav-card:hover { background-color: var(--accent-2); transform: translateY(-10px); box-shadow: 0 15px 30px rgba(3, 127, 140, 0.2); border-color: var(--accent-2); }
        .nav-card-num { font-family: var(--font-heading); font-size: 3rem; color: rgba(0,0,0,0.1); transition: color 0.4s; }
        .nav-card:hover .nav-card-num { color: rgba(255,255,255,0.2); }
        .nav-card-content { margin-top: 20px; }
        .nav-card-title-en { font-family: var(--font-heading); font-size: 1.8rem; margin-bottom: 5px; color: var(--text-main); transition: color 0.4s; }
        .nav-card-title-cn { font-family: var(--font-cn); font-size: 1rem; color: var(--text-light); transition: color 0.4s; }
        .nav-card-arrow {
            position: absolute; bottom: 30px; right: 30px; width: 30px; height: 30px; border: 1px solid var(--text-light);
            border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transform: translateX(-10px); transition: all 0.4s;
        }
        .nav-card-arrow::before { content: '→'; font-size: 1rem; color: var(--text-main); }
        .nav-card:hover .nav-card-title-en, .nav-card:hover .nav-card-title-cn { color: #fff; }
        .nav-card:hover .nav-card-arrow { opacity: 1; transform: translateX(0); border-color: #fff; }
        .nav-card:hover .nav-card-arrow::before { color: #fff; }

        /* --- Section: Quote --- */
        .section-quote {
            min-height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 50px 10%; background-color: var(--bg-color);
        }
        .quote-text { font-size: clamp(2rem, 4vw, 3rem); font-style: italic; margin-bottom: 30px; color: var(--text-main); }
        .vertical-line { width: 1px; height: 60px; background: var(--accent-2); margin: 0 auto 20px auto; }

        footer { padding: 50px; text-align: center; border-top: 1px solid rgba(0,0,0,0.1); }

        /* RWD */
        @media (max-width: 768px) {
            .section-hero { grid-template-columns: 1fr; padding-top: 120px; }
            .hero-title { font-size: 3.5rem; }
            .hero-info { flex-direction: column; gap: 20px; }
            .section-profile { grid-template-columns: 1fr; }
            .profile-side { position: relative; top: 0; margin-bottom: 40px; }
            .hub-grid { grid-template-columns: 1fr; }
            .dropdown-menu { width: 250px; right: -5%; }
            .section-carousel { height: 40vh; }
            .carousel-slide { width: 80%; }
            .carousel-slide.prev { left: 0%; }
            .carousel-slide.next { left: 100%; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="breadcrumb">
            <span>ROWAN PORTFOLIO</span>
            <span style="color: var(--accent-2); margin: 0 5px;">/</span>
            <span class="current">HOME</span>
        </div>
        
        <div class="menu-container" id="menuToggle">
            <div class="menu-btn">
                <span>MENU</span>
                <div class="menu-icon">
                    <div class="menu-line"></div>
                    <div class="menu-line"></div>
                    <div class="menu-line"></div>
                </div>
            </div>

            <div class="dropdown-menu">
                <a href="./index.html" class="dropdown-item" style="background-color: rgba(255,255,255,0.5);">
                    <span class="dd-num">00</span><span class="dd-text-en">HomePage</span><span class="dd-text-cn">個人首頁</span>
                </a>
                <a href="./Identity.html" class="dropdown-item">
                    <span class="dd-num">01</span><span class="dd-text-en">Identity</span><span class="dd-text-cn">個人品牌</span>
                </a>
                <a href="./Visuals.html" class="dropdown-item">
                    <span class="dd-num">02</span><span class="dd-text-en">Visuals</span><span class="dd-text-cn">感官視覺化設計</span>
                </a>
                <a href="./Works.html" class="dropdown-item">
                    <span class="dd-num">03</span><span class="dd-text-en">Works</span><span class="dd-text-cn">商業設計精選</span>
                </a>
                <a href="./Digital.html" class="dropdown-item">
                    <span class="dd-num">04</span><span class="dd-text-en">Digital</span><span class="dd-text-cn">電商與社群行銷</span>
                </a>
                <a href="./Analysis.html" class="dropdown-item">
                    <span class="dd-num">05</span><span class="dd-text-en">Analysis</span><span class="dd-text-cn">數據分析思維</span>
                </a>
            </div>
        </div>
    </nav>

    <section class="section-hero" id="home">
        <div class="hero-circle"></div> 
        
        <div style="grid-column: 1 / -1; z-index: 2;" class="reveal-on-scroll">
            <span class="subtitle">PORTFOLIO</span>
            <h1 class="hero-title">Design <br>Collection.</h1>
        </div>
        
        <div class="hero-info reveal-on-scroll" style="grid-column: 1 / -1; width: 100%;">
            <div>
                <span class="subtitle">DESIGNER</span>
                <p style="font-size: 1.2rem; font-weight: 500;">Rowan</p>
            </div>
            <div>
                <span class="subtitle">DISCIPLINE</span>
                <p style="font-size: 1.2rem;">Business Design & Internet Marketing</p>
            </div>
        </div>
    </section>

    <section class="section-carousel reveal-on-scroll" id="heroCarousel">
        <div class="carousel-track">
            <div class="carousel-slide active" style="background-image: url('./Photo/P12-1.png');" data-src="./Photo/P12-1.png"></div>
            <div class="carousel-slide next" style="background-image: url('./Photo/P18-1.png');" data-src="./Photo/P18-1.png"></div>
            <div class="carousel-slide" style="background-image: url('./Photo/P17-2.png');" data-src="./Photo/P17-2.png"></div>
            <div class="carousel-slide" style="background-image: url('./Photo/P22-2.png');" data-src="./Photo/P22-2.png"></div>
            <div class="carousel-slide" style="background-image: url('./Photo/P08-1.png');" data-src="./Photo/P08-1.png"></div>
            <div class="carousel-slide prev" style="background-image: url('./Photo/P20-1.png');" data-src="./Photo/P20-1.png"></div>
        </div>
        
        <button class="carousel-btn carousel-prev" id="prevBtn">&#10094;</button>
        <button class="carousel-btn carousel-next" id="nextBtn">&#10095;</button>

        <div class="carousel-indicators" id="indicators">
            <div class="indicator active" data-slide="0"></div>
            <div class="indicator" data-slide="1"></div>
            <div class="indicator" data-slide="2"></div>
            <div class="indicator" data-slide="3"></div>
            <div class="indicator" data-slide="4"></div>
            <div class="indicator" data-slide="5"></div>
        </div>
    </section>

    <section class="section-profile" id="profile">
        <div class="profile-side reveal-on-scroll">
            <div>
                <h2>Profile</h2>
                <p class="cn-text" style="line-height: 1.8; text-align: justify; font-size: 1rem;">
                    我是 Rowan，一位擁有化學工程背景的商業設計師。過去六年的研發工程師經歷，培養了我嚴謹的數據分析能力與邏輯思維；而創立 Drift Coffee Studio 的實務經驗，則讓我深刻理解品牌從 0 到 1 的視覺建構與市場溝通。
                    <br><br>
                    期許以「理工人的邏輯」加上「設計師的感性」，創造出兼具美學與效益的品牌體驗。
                </p>
            </div>
            <div style="margin-top: 30px;">
                <span class="subtitle" style="color: var(--accent-1);">CONTACT</span>
                <p style="color: #fff; font-size: 1rem; letter-spacing: 0.05em;">ecbbc9359765@gmail.com</p>
                <p style="color: #fff; margin-top: 5px;">+886 976 695 455</p>
            </div>
        </div>

        <div class="profile-main reveal-on-scroll">
            <div>
                <span class="subtitle">EXPERIENCE</span>
                <div class="exp-item">
                    <div class="exp-year">2019 — PRESENT</div>
                    <div class="exp-title">Founder & Visual Designer / Drift Coffee Studio</div>
                    <div class="exp-desc cn-text">品牌識別設計 (CIS)、產品包裝規劃、社群行銷策略與產品開發。</div>
                </div>
                <div class="exp-item">
                    <div class="exp-year">2023 — 2025</div>
                    <div class="exp-title">R&D Engineer / ITEQ Corporation</div>
                    <div class="exp-desc cn-text">特用化學品配方研究、DOE 實驗設計、跨部門溝通與數據分析。</div>
                </div>
                <div class="exp-item">
                    <div class="exp-year">2015 — 2016</div>
                    <div class="exp-title">Editor-in-Chief / Tunghai Student Council</div>
                    <div class="exp-desc cn-text">學生議會期刊總編輯，統籌刊物企劃與視覺排版。</div>
                </div>
            </div>
            <div>
                <span class="subtitle">EXPERTISE & TOOLS</span>
                <div class="skills-grid">
                    <div>
                        <p style="font-weight: 700; margin-bottom: 5px;">Design</p>
                        <p>Brand Identity</p>
                        <p>Packaging</p>
                        <p>Adobe Ps / Ai</p>
                    </div>
                    <div>
                        <p style="font-weight: 700; margin-bottom: 5px; color: var(--accent-2);">AI Productivity</p>
                        <p><strong>Google Gemini</strong></p>
                        <p class="cn-text" style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 5px; line-height: 1.4;">
                            市場洞察、文案發想<br>協同程式開發
                        </p>
                        <p>Midjourney</p>
                    </div>
                    <div>
                        <p style="font-weight: 700; margin-bottom: 5px;">Marketing</p>
                        <p>Data Analysis</p>
                        <p>SEO Strategy</p>
                        <p>Social Media</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="btn-container reveal-on-scroll" style="margin-top: 50px;">
        <p style="font-family: var(--font-en); margin-bottom: 5px; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.1em; font-size: 0.8rem;">Start the Journey</p>
        <a href="./Identity.html" class="btn-primary btn-next">Part 01: Identity →</a>
    </div>

    <section class="section-nav-hub" id="works-hub">
        <div class="hub-header reveal-on-scroll">
            <span class="subtitle">EXPLORE WORKS</span>
            <h2 style="font-size: 2.5rem; margin-top: 10px;">Select a Category.</h2>
            <p class="cn-text" style="color: var(--text-light); margin-top: 10px;">點選以下卡片以瀏覽詳細專案內容</p>
        </div>

        <div class="hub-grid">
            <a href="./index.html" class="nav-card reveal-on-scroll" style="border-color: var(--accent-2);">
                <div class="nav-card-num" style="color: var(--accent-2);">00</div>
                <div class="nav-card-content">
                    <h3 class="nav-card-title-en" style="color: var(--accent-2);">HomePage</h3>
                    <p class="nav-card-title-cn">個人首頁 (Current)</p>
                </div>
            </a>
            
            <a href="./Identity.html" class="nav-card reveal-on-scroll" style="transition-delay: 0.1s;">
                <div class="nav-card-num">01</div>
                <div class="nav-card-content"><h3 class="nav-card-title-en">Identity</h3><p class="nav-card-title-cn">個人品牌</p></div><div class="nav-card-arrow"></div>
            </a>
            <a href="./Visuals.html" class="nav-card reveal-on-scroll" style="transition-delay: 0.2s;">
                <div class="nav-card-num">02</div>
                <div class="nav-card-content"><h3 class="nav-card-title-en">Visuals</h3><p class="nav-card-title-cn">感官視覺化設計</p></div><div class="nav-card-arrow"></div>
            </a>
            <a href="./Works.html" class="nav-card reveal-on-scroll" style="transition-delay: 0.3s;">
                <div class="nav-card-num">03</div>
                <div class="nav-card-content"><h3 class="nav-card-title-en">Works</h3><p class="nav-card-title-cn">商業設計精選</p></div><div class="nav-card-arrow"></div>
            </a>
            <a href="./Digital.html" class="nav-card reveal-on-scroll" style="transition-delay: 0.4s;">
                <div class="nav-card-num">04</div>
                <div class="nav-card-content"><h3 class="nav-card-title-en">Digital</h3><p class="nav-card-title-cn">電商與社群行銷</p></div><div class="nav-card-arrow"></div>
            </a>
            <a href="./Analysis.html" class="nav-card reveal-on-scroll" style="transition-delay: 0.5s;">
                <div class="nav-card-num">05</div>
                <div class="nav-card-content"><h3 class="nav-card-title-en">Analysis</h3><p class="nav-card-title-cn">數據分析思維</p></div><div class="nav-card-arrow"></div>
            </a>
        </div>
    </section>

    <section class="section-quote reveal-on-scroll" id="outro">
        <h2 class="quote-text">"Do Not Drift <br> Into that Good Night."</h2>
        <div class="vertical-line"></div>
        <p class="subtitle" style="color: var(--accent-2);">DRIFT COFFEE STUDIO</p>
        <p style="font-size: 0.9rem; color: var(--text-light);">Roaster Rowan</p>
    </section>

    <div class="btn-back-top-container reveal-on-scroll">
        <button onclick="window.scrollTo({top: 0, behavior: 'smooth'});" class="btn-back-top">↑ Back to Top</button>
    </div>

    <footer>
        <p class="subtitle">© 2026 ROWAN PORTFOLIO. All Rights Reserved.</p>
    </footer>

    <div class="lightbox-modal" id="lightbox">
        <div class="lightbox-close" id="lightboxClose">&times;</div>
        <img src="" alt="Full Preview" class="lightbox-content" id="lightboxImg">
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            // 1. 下拉選單
            const menuContainer = document.getElementById('menuToggle');
            const menuBtn = menuContainer.querySelector('.menu-btn');
            menuBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                menuContainer.classList.toggle('active');
            });
            document.addEventListener('click', function(e) {
                if (!menuContainer.contains(e.target)) {
                    menuContainer.classList.remove('active');
                }
            });

            // 2. 滾動動畫
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('is-visible');
                });
            }, { threshold: 0.15 });
            document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));

            // 3. 輪播邏輯
            const slides = document.querySelectorAll('.carousel-slide');
            const indicators = document.querySelectorAll('.indicator');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const carouselContainer = document.getElementById('heroCarousel');
            
            let currentSlide = 0;
            let slideInterval;
            let touchStartX = 0;
            let touchEndX = 0;

            function updateCarousel() {
                slides.forEach(slide => {
                    slide.style.opacity = '';
                    slide.style.zIndex = '';
                    slide.style.visibility = '';
                    slide.classList.remove('active', 'prev', 'next');
                });

                slides.forEach((slide, index) => {
                    if (index === currentSlide) {
                        slide.classList.add('active');
                    } else if (index === (currentSlide - 1 + slides.length) % slides.length) {
                        slide.classList.add('prev');
                    } else if (index === (currentSlide + 1) % slides.length) {
                        slide.classList.add('next');
                    } else {
                        slide.style.opacity = '0';
                        slide.style.zIndex = '-1';
                        slide.style.visibility = 'hidden';
                    }
                });

                indicators.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }

            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                updateCarousel();
            }

            function prevSlide() {
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                updateCarousel();
            }

            function startAutoPlay() {
                slideInterval = setInterval(nextSlide, 4000);
            }

            function resetAutoPlay() {
                clearInterval(slideInterval);
                startAutoPlay();
            }

            nextBtn.addEventListener('click', () => { nextSlide(); resetAutoPlay(); });
            prevBtn.addEventListener('click', () => { prevSlide(); resetAutoPlay(); });
            indicators.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentSlide = index;
                    updateCarousel();
                    resetAutoPlay();
                });
            });

            carouselContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });
            carouselContainer.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                if (touchStartX - touchEndX > 50) {
                    nextSlide(); 
                    resetAutoPlay();
                }
                if (touchEndX - touchStartX > 50) {
                    prevSlide(); 
                    resetAutoPlay();
                }
            }

            // Lightbox
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightboxImg');
            const lightboxClose = document.getElementById('lightboxClose');

            slides.forEach(slide => {
                slide.addEventListener('click', function() {
                    if (this.classList.contains('active')) {
                        const src = this.getAttribute('data-src');
                        lightboxImg.src = src;
                        lightbox.classList.add('active');
                        clearInterval(slideInterval);
                    } else {
                        if (this.classList.contains('next')) nextSlide();
                        if (this.classList.contains('prev')) prevSlide();
                        resetAutoPlay();
                    }
                });
            });

            lightboxClose.addEventListener('click', () => {
                lightbox.classList.remove('active');
                startAutoPlay();
            });
            
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.classList.remove('active');
                    startAutoPlay();
                }
            });

            if(slides.length > 0) {
                updateCarousel();
                startAutoPlay();
            }
        });
    </script>
</body>
</html>